<!-- =======  User Section ======= -->
<div class="container">
  <div class="row g-0 text-center">

    <div class="row mt-4">

      <form>
        <div class="mb-3 row mt-4">
          <label for="table-filtering-search" class="col-xl-3 col-sm-auto col-form-label"></label>
          <div class="col-xl-6 col-sm-auto">
            <div class="input-group">
              <span class="input-group-text"><i class="fa-solid fa-magnifying-glass"></i></span>
              <input id="table-filtering-search" class="form-control" type="text" (input)="onSearch($event)"
                placeholder="Buscar por nombre de Usuario" />
            </div>
          </div>
        </div>
      </form>

      <div class="col-sm-12">
        <div class="panel border-top-blue">
          <div class="panel-heading justify-content-center">
            <h3 class="d-flex justify-content-center">Usuario/s</h3>
          </div>

          <div class="panel-body panel-white">
            <div class="table-responsive">
              <table ngb-table class="table table-hover table-md tablaGas">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Username</th>
                    <th>Roles</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Email</th>
                    <th>Tel√©fono</th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <tr id="TABLA_USUARIOS" *ngFor="let user of usersList; trackBy: trackByUserId">
                    <td>{{ user.id }}</td>
                    <td>{{ user.username }}</td>
                    <td>{{ user.roles }}</td>
                    <td>{{ user.person?.name }}</td>
                    <td>{{ user.person?.lastName }}</td>
                    <td>{{ user.person?.email }}</td>
                    <td>{{ user.person?.phone }}</td>
                    <td>
                      <button *ngIf="this.currentUser.roles == 'admin'" class="btn btn-danger"
                        (click)="deleteUser(user.id)"><i class="notifyIcon fa-solid fa-xmark"></i></button>
                      <button class="btn btn-warning espaciadoBtn" (click)="onEditUser(user)"><i
                          class="notifyIcon fa-solid fa-user-pen"></i></button>
                    </td>
                  </tr>
                  <tr *ngIf="usersList?.length === 0">
                    <td colspan="8">No se encontraron datos.</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="row g-0 text-center mt-4">
            <div class="col-sm-6 col-md-4">
              <button *ngIf="this.currentUser.roles == 'admin'" type="button" class="create" (click)="onAddUser()">
                <span class="button__text">Nuevo Usuario</span>
                <span class="button__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24" stroke-width="2"
                    stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" height="24" fill="none"
                    class="svg">
                    <line y2="19" y1="5" x2="12" x1="12"></line>
                    <line y2="12" y1="12" x2="19" x1="5"></line>
                  </svg>
                </span>
              </button>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>


</div>